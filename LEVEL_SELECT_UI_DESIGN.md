# 关卡选择界面视觉设计

## 界面布局示意图

```
┌──────────────────────────────────────────────────────┐
│                                                       │
│  [返回]              选择关卡                          │
│                                                       │
├──────────────────────────────────────────────────────┤
│                                                       │
│                  ┌──────────────┐                    │
│                  │      10      │  ⏰                 │
│                  │   终极挑战    │                    │
│                  │   ⭐⭐⭐      │                    │
│                  └──────────────┘                    │
│                                                       │
│                  ┌──────────────┐                    │
│                  │      9       │  👣                 │
│                  │   大师之路    │                    │
│                  │   ⭐⭐        │                    │
│                  └──────────────┘                    │
│                                                       │
│                  ┌──────────────┐                    │
│             💎   │      8       │  ⏰                 │
│                  │   钻石时刻    │                    │
│                  │   ⭐⭐⭐      │                    │
│                  └──────────────┘                    │
│                                                       │
│                  ┌──────────────┐                    │
│             ✝️   │      7       │  👣                 │
│                  │   十字交叉    │                    │
│                  │   ⭐          │                    │
│                  └──────────────┘                    │
│                                                       │
│                  ┌──────────────┐                    │
│                  │      6       │  ⏰                 │
│                  │   时间竞速    │                    │
│                  │   ⭐⭐        │                    │
│                  └──────────────┘                    │
│                                                       │
│                  ┌──────────────┐                    │
│             💗   │      5       │  👣                 │
│                  │   爱心连连    │                    │
│                  │   ⭐⭐⭐      │                    │
│                  └──────────────┘                    │
│                                                       │
│                  ┌──────────────┐                    │
│                  │      4       │  ⏰                 │
│                  │   争分夺秒    │                    │
│                  │   ⭐⭐        │                    │
│                  └──────────────┘                    │
│                                                       │
│                  ┌──────────────┐                    │
│                  │      3       │  👣                 │
│                  │   消除达人    │                    │
│                  │   ⭐⭐⭐      │                    │
│                  └──────────────┘                    │
│                                                       │
│                  ┌──────────────┐                    │
│                  │      2       │  👣                 │
│                  │   欢乐时光    │                    │
│                  │   ⭐⭐        │                    │
│                  └──────────────┘                    │
│                                                       │
│                  ┌──────────────┐                    │
│                  │      1       │  👣                 │
│                  │   初见萌宠    │                    │
│                  │   ⭐⭐⭐      │                    │
│                  └──────────────┘  ← 最底部           │
│                                                       │
└──────────────────────────────────────────────────────┘
```

## 颜色方案

### 关卡状态颜色
- **已完成**: `rgb(144, 238, 144)` 浅绿色
- **可玩**: `rgb(255, 255, 255)` 白色
- **锁定**: `rgb(128, 128, 128)` 灰色

### 地图类型颜色
- **💗 爱心**: `rgb(255, 105, 180)` 粉色
- **✝️ 十字**: `rgb(100, 149, 237)` 蓝色
- **💎 钻石**: `rgb(147, 112, 219)` 紫色
- **标准**: `rgb(128, 128, 128)` 灰色

### 背景颜色
- **主背景**: `rgb(135, 206, 250)` 天蓝色
- **返回按钮**: `rgb(70, 130, 180)` 钢蓝色

## 交互说明

### 1. 滚动浏览
- 上下滑动浏览所有关卡
- 初始自动滚动到当前可玩关卡

### 2. 点击关卡
- **已解锁关卡**: 点击进入游戏
- **已完成关卡**: 点击可重复游玩
- **锁定关卡**: 点击无反应

### 3. 返回按钮
- 点击返回到主菜单（Login场景）

## 图标说明

| 图标 | 含义 | 位置 |
|-----|------|------|
| 👣 | 步数模式 | 关卡项右上角 |
| ⏰ | 计时模式 | 关卡项右上角 |
| 💗 | 爱心地图 | 关卡项左上角 |
| ✝️ | 十字地图 | 关卡项左上角 |
| 💎 | 钻石地图 | 关卡项左上角 |
| ⭐ | 星星（1-3个）| 关卡项底部 |
| 🔒 | 锁定状态 | 关卡项中心（覆盖数字）|

## 关卡项尺寸

- **宽度**: 120px
- **高度**: 120px
- **间距**: 20px（垂直方向）
- **边距**: 20px（上下左右）

## 字体大小

- **标题**: 60px（"选择关卡"）
- **返回按钮**: 32px
- **关卡编号**: 36px
- **游戏模式图标**: 24px
- **星星**: 20px
- **锁图标**: 40px

## 动画效果（可选扩展）

### 关卡项出现动画
```
从下往上依次出现
缩放: 0 → 1 (0.3秒)
透明度: 0 → 1 (0.3秒)
```

### 点击反馈
```
按下: scale 1 → 0.95
松开: scale 0.95 → 1
时间: 0.1秒
```

### 解锁动画
```
锁图标: 旋转+缩放消失
关卡项: 灰色 → 白色渐变
时间: 0.5秒
```

### 完成动画
```
星星依次出现
每颗星: 缩放+闪烁
延迟: 0.2秒/颗
```

## 响应式设计

### 不同屏幕尺寸
- 关卡项大小可根据屏幕宽度调整
- 建议最小宽度: 100px
- 建议最大宽度: 150px

### 横屏适配
- 可以考虑两列布局
- 保持从下往上的顺序

## 实现示例

### 创建关卡项（代码）
```typescript
// 在 LevelItem.createLevelItem() 中
const levelItem = new Node('LevelItem');
levelItem.setContentSize(120, 120);

// 背景
const sprite = levelItem.addComponent(Sprite);
sprite.color = new Color(255, 255, 255);

// 关卡编号
const label = new Node('Label');
label.addComponent(Label);
label.string = "1";
label.fontSize = 36;

// 星星（3个）
const stars = new Node('Stars');
for (let i = 0; i < 3; i++) {
    const star = new Node(`Star${i+1}`);
    star.addComponent(Label).string = "⭐";
}
```

## 与现有系统集成

### 数据来源
- **关卡数据**: `LevelManager.getInstance()`
- **关卡配置**: `DEFAULT_LEVELS` from `LevelData.ts`
- **进度数据**: `localStorage` (通过 LevelManager)

### 地图显示
- 读取 `levelConfig.getMapConfig()`
- 根据 `mapConfig.name` 设置颜色
- 爱心/十字/钻石显示特殊图标

### 模式显示
- 读取 `levelConfig.isTimerMode()`
- Timer = ⏰
- Moves = 👣

## 未来扩展

### 1. 世界系统
```
World 1: Levels 1-10
World 2: Levels 11-20
World 3: Levels 21-30
```

### 2. 成就徽章
在关卡上显示特殊成就：
- 🏆 完美通关（3星）
- 🎯 一次性完成
- ⚡ 速度记录

### 3. 社交功能
- 好友进度对比
- 排行榜按钮
- 分享按钮

### 4. 每日挑战
- 特殊关卡项
- 不同的视觉样式
- 限时挑战标记

---

*设计日期: 2026/01/10*
*版本: 1.0*
