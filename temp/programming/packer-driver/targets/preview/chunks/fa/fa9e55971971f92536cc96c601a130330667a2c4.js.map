{"version":3,"sources":["file:///D:/dev/%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9/NewProject/assets/Script/Model/CellModel.ts"],"names":["CellModel","CELL_TYPE","ANITIME","CELL_STATUS","constructor","type","status","COMMON","x","y","startX","startY","cmd","isDeath","objecCount","Math","floor","random","init","isEmpty","EMPTY","setEmpty","setXY","setStartXY","setStatus","moveToAndBack","pos","srcPos","cc","v2","push","action","keepTime","TOUCH_MOVE","playTime","moveTo","toDie","DIE","toShake","DIE_SHAKE","setVisible","isVisible","moveToAndDie","isBird","G"],"mappings":"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","sourcesContent":["import { CELL_TYPE, ANITIME, CELL_STATUS, GRID_HEIGHT } from \"./ConstValue\";\r\nexport default class CellModel {\r\n  constructor() {\r\n    this.type = null;\r\n    this.status = CELL_STATUS.COMMON;\r\n    this.x = 1;\r\n    this.y = 1;\r\n    this.startX = 1;\r\n    this.startY = 1;\r\n    this.cmd = [];\r\n    this.isDeath = false;\r\n    this.objecCount = Math.floor(Math.random() * 1000);\r\n  }\r\n\r\n  init(type) {\r\n    this.type = type;\r\n  }\r\n\r\n  isEmpty() {\r\n    return this.type == CELL_TYPE.EMPTY;\r\n  }\r\n\r\n  setEmpty() {\r\n    this.type = CELL_TYPE.EMPTY;\r\n  }\r\n  setXY(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  setStartXY(x, y) {\r\n    this.startX = x;\r\n    this.startY = y;\r\n  }\r\n\r\n  setStatus(status) {\r\n    this.status = status;\r\n  }\r\n\r\n  moveToAndBack(pos) {\r\n    var srcPos = cc.v2(this.x, this.y);\r\n    this.cmd.push({\r\n      action: \"moveTo\",\r\n      keepTime: ANITIME.TOUCH_MOVE,\r\n      playTime: 0,\r\n      pos: pos\r\n    });\r\n    this.cmd.push({\r\n      action: \"moveTo\",\r\n      keepTime: ANITIME.TOUCH_MOVE,\r\n      playTime: ANITIME.TOUCH_MOVE,\r\n      pos: srcPos\r\n    });\r\n  }\r\n\r\n  moveTo(pos, playTime) {\r\n    var srcPos = cc.v2(this.x, this.y);\r\n    this.cmd.push({\r\n      action: \"moveTo\",\r\n      keepTime: ANITIME.TOUCH_MOVE,\r\n      playTime: playTime,\r\n      pos: pos\r\n    });\r\n    this.x = pos.x;\r\n    this.y = pos.y;\r\n  }\r\n\r\n  toDie(playTime) {\r\n    this.cmd.push({\r\n      action: \"toDie\",\r\n      playTime: playTime,\r\n      keepTime: ANITIME.DIE\r\n    });\r\n    this.isDeath = true;\r\n  }\r\n\r\n  toShake(playTime) {\r\n    this.cmd.push({\r\n      action: \"toShake\",\r\n      playTime: playTime,\r\n      keepTime: ANITIME.DIE_SHAKE\r\n    });\r\n  }\r\n\r\n  setVisible(playTime, isVisible) {\r\n    this.cmd.push({\r\n      action: \"setVisible\",\r\n      playTime: playTime,\r\n      keepTime: 0,\r\n      isVisible: isVisible\r\n    });\r\n  }\r\n\r\n  moveToAndDie(pos) {\r\n\r\n  }\r\n\r\n  isBird() {\r\n    return this.type == CELL_TYPE.G;\r\n  }\r\n\r\n}\r\n"]}